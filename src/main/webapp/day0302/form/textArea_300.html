<!DOCTYPE html>
<html>
	<head> 
		<meta charset="UTF-8">
		<title>글자수 제한</title>
		<script type="text/javascript">
		//key up 이벤트가 발생할 때마다 실행	
		function txtAMaxlength() {
		//textarea의 글자 수를 300으로 제한
		//넘치는 순간 alert창으로 '글자수는 300자 제한입니다.'메세지 출력
		
		let tArea = document.querySelector("#comment"); //form태그가 없기 때문에 쿼리셀렉터로. 
		document.querySelector("#txtLenDP").innerHTML = tArea.value.length;
		
		if(tArea.value.length > 300) { 
			alert('글자수는 300자 제한입니다.');
			tArea.value = tArea.value.subString(0, 300);  //0번인덱스부터 300번 인덱스 앞까지 추출해서 좌항 대입
			document.querySelector("#txtLenDP").innerHTML = tArea.value.length; // 300자 짤라내고 나서 그것도 다시 계산해야 하므로. 
		}
				 
			}
		</script>
	</head>	 
	<body>
		<div>
		  <textarea name="comment" rows="2" id="comment" onkeyup="txtAMaxlength()">댓글 쓰는 영역</textarea>
		</div>
		<div>
		  <span id="txtLenDP">0</span> / 300자
		</div>		
	</body>
</html>